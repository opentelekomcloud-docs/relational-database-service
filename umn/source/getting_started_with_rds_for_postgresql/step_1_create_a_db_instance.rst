:original_name: rds_03_0065.html

.. _rds_03_0065:

Step 1: Create a DB Instance
============================

Scenarios
---------

You can create DB instances using the RDS console or APIs. For details about how to create DB instances using APIs, see "Creating a DB Instance" in the *Relational Database Service API Reference*. This section describes how to create a DB instance on the RDS console.

RDS allows you to tailor your computing resources and storage space to your business needs.

Procedure
---------

#. Log in to the management console.

#. Click |image1| in the upper left corner and select a region and a project.

#. Click **Service List**. Under **Database**, click **Relational Database Service**. The RDS console is displayed.

#. On the **Instances** page, click **Create DB Instance**.

#. On the displayed page, configure information about your DB instance. Then, click **Create Now**.

   .. table:: **Table 1** Basic Settings

      +-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                          |
      +===================================+======================================================================================================================================================================================================================================================================+
      | Region                            | Region where your resources are located.                                                                                                                                                                                                                             |
      |                                   |                                                                                                                                                                                                                                                                      |
      |                                   | .. note::                                                                                                                                                                                                                                                            |
      |                                   |                                                                                                                                                                                                                                                                      |
      |                                   |    Products in different regions cannot communicate with each other through a private network. After a DB instance is created, the region of the DB instance cannot be changed. Therefore, exercise caution when selecting the region where the instance is located. |
      +-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 2** Engine Options

      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                                                                                                               |
      +===================================+===========================================================================================================================================================================================================================================================================================================================================================================================================+
      | DB Engine                         | Set to **PostgreSQL**.                                                                                                                                                                                                                                                                                                                                                                                    |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | DB Engine Version                 | For details, see :ref:`DB Engines and Versions <rds_01_0021>`.                                                                                                                                                                                                                                                                                                                                            |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
      |                                   | Different DB engine versions are supported in different regions.                                                                                                                                                                                                                                                                                                                                          |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
      |                                   | You are advised to select the latest available version because it is more stable, reliable, and secure.                                                                                                                                                                                                                                                                                                   |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | DB Instance Type                  | -  **Primary/Standby**: uses an HA architecture with a primary DB instance and a synchronous standby DB instance. It is suitable for production databases of large- and medium-sized enterprises in Internet, Internet of Things (IoT), retail e-commerce sales, logistics, gaming, and other sectors. The standby DB instance improves instance reliability and is invisible to you after being created. |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
      |                                   |    You can deploy primary and standby DB instances in a single AZ or across AZs to achieve failover and high availability.                                                                                                                                                                                                                                                                                |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
      |                                   | -  **Single**: uses a single-node architecture, which is more cost-effective than primary/standby DB instances. It is suitable for development and testing of microsites, and small- and medium-sized enterprises, or for learning about RDS.                                                                                                                                                             |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Storage Type                      | Determines the DB instance read/write speed. The higher the maximum throughput is, the higher the DB instance read/write speed can be.                                                                                                                                                                                                                                                                    |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
      |                                   | -  **Cloud SSD**: cloud drives used to decouple storage from compute. The maximum throughput is 350 MB/s.                                                                                                                                                                                                                                                                                                 |
      |                                   | -  **Extreme SSD**: uses 25GE network and RDMA technologies to provide you with up to 1,000 MB/s throughput per disk and sub-millisecond latency.                                                                                                                                                                                                                                                         |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Primary AZ/Standby AZ             | An AZ is a physical region where resources use independent power supply and networks. AZs are physically isolated but interconnected through an internal network. You can select different AZs for your primary and standby instances for cross-AZ disaster recovery.                                                                                                                                     |
      |                                   |                                                                                                                                                                                                                                                                                                                                                                                                           |
      |                                   | The primary and standby instances can be deployed in different AZs.                                                                                                                                                                                                                                                                                                                                       |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 3** Instance Configuration

      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                            |
      +===================================+========================================================================================================================================================================================================+
      | Instance Class                    | Refers to the CPU and memory of a DB instance. Different instance classes have different numbers of database connections and different maximum IOPS.                                                   |
      |                                   |                                                                                                                                                                                                        |
      |                                   | For details about instance classes, see :ref:`DB Instance Classes <rds_01_0029>`.                                                                                                                      |
      |                                   |                                                                                                                                                                                                        |
      |                                   | After a DB instance is created, you can change its CPU and memory. For details, see :ref:`Changing a DB Instance Class <rds_pg_scale_rds>`.                                                            |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Storage Space                     | Contains the file system overhead required for inode, reserved block, and database operation. Storage space can range in size from 40 GB to 4,000 GB and can be scaled up only by a multiple of 10 GB. |
      |                                   |                                                                                                                                                                                                        |
      |                                   | After a DB instance is created, you can scale up its storage space. For details, see :ref:`Scaling up Storage Space <rds_pg_scale_cluster>`.                                                           |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Enable autoscaling                | If the storage type is cloud SSD or extreme SSD, you can enable storage autoscaling. When the available storage drops to a specified threshold, autoscaling is triggered.                              |
      |                                   |                                                                                                                                                                                                        |
      |                                   | -  **Enable Storage Autoscaling**: If you select this option, storage autoscaling is enabled.                                                                                                          |
      |                                   | -  **Trigger If Available Storage Drops To**: If the available storage drops to a specified threshold or 10 GB, autoscaling is triggered.                                                              |
      |                                   | -  **Autoscaling Limit**: The default value range is from 40 to 4000, in GB. The limit must be no less than the storage of the DB instance.                                                            |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Disk Encryption                   | Enabling disk encryption enhances data security but reduces the database's read and write performance by 5%.                                                                                           |
      |                                   |                                                                                                                                                                                                        |
      |                                   | **Key Generation**: indicates the method of generating a tenant key. Select one from the drop-down list.                                                                                               |
      |                                   |                                                                                                                                                                                                        |
      |                                   | **Key Name**: indicates the tenant key. Select one from the drop-down list.                                                                                                                            |
      |                                   |                                                                                                                                                                                                        |
      |                                   | After disk encryption is enabled, the following restrictions apply:                                                                                                                                    |
      |                                   |                                                                                                                                                                                                        |
      |                                   | -  If you enable disk encryption during instance creation, the disk encryption status and the key cannot be changed later.                                                                             |
      |                                   | -  Enabling disk encryption will not encrypt backup data stored in Object Storage Service (OBS).                                                                                                       |
      |                                   | -  Keep the key secure. Once the key is disabled, deleted, or frozen, your instance will be inaccessible and its data may not be restored.                                                             |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 4** Basic Settings

      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                         |
      +===================================+=====================================================================================================================================================================================================================================================================+
      | DB Instance Name                  | Must start with a letter and consist of 4 to 64 characters. Only letters, digits, hyphens (-), and underscores (_) are allowed.                                                                                                                                     |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Administrator                     | The default login name for the database is **root**.                                                                                                                                                                                                                |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Administrator Password            | Must consist of 8 to 32 characters and contain at least three of the following character types: uppercase letters, lowercase letters, digits, and special characters (``~!@#$%^*-_=+?,``). Enter a strong password and periodically change it for security reasons. |
      |                                   |                                                                                                                                                                                                                                                                     |
      |                                   | If provided password will be considered by system as weak, you will receive an error and you should provide stronger password.                                                                                                                                      |
      |                                   |                                                                                                                                                                                                                                                                     |
      |                                   | Keep this password secure. The system cannot retrieve it.                                                                                                                                                                                                           |
      |                                   |                                                                                                                                                                                                                                                                     |
      |                                   | After a DB instance is created, you can reset this password. For details, see section :ref:`Resetting the Administrator Password <rds_pg_reset_password>`.                                                                                                          |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Confirm Password                  | Must be the same as **Administrator Password**.                                                                                                                                                                                                                     |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 5** Connectivity

      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                                          |
      +===================================+======================================================================================================================================================================================================================================================================================================================================+
      | VPC                               | A dedicated virtual network in which your RDS DB instances are located. A VPC can isolate networks for different services. You can select an existing VPC or create a VPC. For details on how to create a VPC, see the "Creating a VPC" section in the *Virtual Private Cloud User Guide*.                                           |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   | If no VPC is available, RDS allocates a VPC to you by default.                                                                                                                                                                                                                                                                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   | .. important::                                                                                                                                                                                                                                                                                                                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   |    NOTICE:                                                                                                                                                                                                                                                                                                                           |
      |                                   |    After the DB instance is created, the VPC cannot be changed.                                                                                                                                                                                                                                                                      |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Subnet                            | Improves network security by providing dedicated network resources that are logically isolated from other networks. Subnets take effect within all AZs of one Region. The Dynamic Host Configuration Protocol (DHCP) function is enabled by default for subnets in which you plan to create RDS DB instances and cannot be disabled. |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   | **IPv4 Address:**                                                                                                                                                                                                                                                                                                                    |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   | A floating IPv4 address is automatically assigned when you create a DB instance. You can also enter an unused floating IPv4 address in the subnet CIDR block. After the DB instance is created, you can change the floating IP address.                                                                                              |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Security Group                    | Controls the access that traffic has in and out of a DB instance. By default, the security group associated with the DB instance is authorized.                                                                                                                                                                                      |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   | Enhances security by controlling access to RDS from other services. You need to add inbound rules to a security group so that you can connect to your DB instance.                                                                                                                                                                   |
      |                                   |                                                                                                                                                                                                                                                                                                                                      |
      |                                   | If no security group is available, RDS allocates a security group to you by default.                                                                                                                                                                                                                                                 |
      +-----------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 6** Additional Options

      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                             |
      +===================================+=========================================================================================================================================================================================================+
      | Parameter Template                | Contains engine configuration values that can be applied to one or more DB instances. If you intend to create primary/standby DB instances, they use the same parameter template.                       |
      |                                   |                                                                                                                                                                                                         |
      |                                   | .. important::                                                                                                                                                                                          |
      |                                   |                                                                                                                                                                                                         |
      |                                   |    NOTICE:                                                                                                                                                                                              |
      |                                   |    If you use a custom parameter template when creating a DB instance, the following specification-related parameters in the custom template are not delivered. Instead, the default values are used.   |
      |                                   |                                                                                                                                                                                                         |
      |                                   |    -  **maintenance_work_mem**                                                                                                                                                                          |
      |                                   |    -  **shared_buffers**                                                                                                                                                                                |
      |                                   |    -  **max_connections**                                                                                                                                                                               |
      |                                   |    -  **effective_cache_size**                                                                                                                                                                          |
      |                                   |                                                                                                                                                                                                         |
      |                                   | You can modify the instance parameters as required after the DB instance is created. For details, see :ref:`Modifying Instance Parameters <rds_pg_configuration>`.                                      |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Time Zone                         | You need to select a time zone for your instance based on the region hosting your instance. You can select a time zone during instance creation and change it later as needed.                          |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Tag                               | Tags an RDS DB instance. This configuration is optional. Adding tags to RDS DB instances helps you better identify and manage the DB instances. A maximum of 20 tags can be added for each DB instance. |
      |                                   |                                                                                                                                                                                                         |
      |                                   | After a DB instance is created, you can view its tag details on the **Tags** page. For details, see section :ref:`Managing Tags <rds_pg_tag>`.                                                          |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. table:: **Table 7** Required Duration and Quantity

      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                       |
      +===================================+===================================================================================================================================================================================================================================================+
      | Quantity                          | RDS supports DB instance creation in batches. If you choose to create primary/standby DB instances and set **Quantity** to **1**, a primary DB instance and a standby DB instance will be created synchronously.                                  |
      |                                   |                                                                                                                                                                                                                                                   |
      |                                   | If you create multiple DB instances at a time, they will be named with four digits appended to the DB instance name. For example, if you enter **instance**, the first instance will be named instance-0001, the second instance-0002, and so on. |
      +-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   After the configuration, click **Price Calculator** to view the RDS configuration fee.

   .. note::

      The performance of your DB instance depends on its configurations. Hardware configuration items include the instance specifications, storage type, and storage space.

#. Confirm the specifications.

   -  If you need to modify your settings, click **Previous**.
   -  If you do not need to modify your settings, click **Submit**.

#. To view and manage the DB instance, go to the **Instances** page.

   -  During the creation process, the DB instance status is **Creating**. When the creation process is complete, the instance status will change to **Available**.

   -  The automated backup policy is enabled by default. After the DB instance is created, you can modify the policy as needed. An automated full backup is immediately triggered after a DB instance is created.

   -  The default database port is **5432**. After a DB instance is created, you can change the database port.

      For details, see :ref:`Changing a Database Port <rds_pg_change_database_port>`.

.. |image1| image:: /_static/images/en-us_image_0000001191211679.png

:original_name: rds_10_0003.html

.. _rds_10_0003:

RDS Actions
===========

.. table:: **Table 1** Common information query

   +---------------------------------------+-------------------------------------------------------------------------------+---------------------------+-------------+--------------------+
   | Permissions                           | API                                                                           | Action                    | IAM Project | Enterprise Project |
   +=======================================+===============================================================================+===========================+=============+====================+
   | Querying the DB engine version        | GET /v3/{project_id}/datastores/{database_name}                               | No authorization required | Y           | Y                  |
   +---------------------------------------+-------------------------------------------------------------------------------+---------------------------+-------------+--------------------+
   | Querying database specifications      | GET /v3/{project_id}/flavors/{database_name}?version_name={version_name}      | No authorization required | Y           | Y                  |
   +---------------------------------------+-------------------------------------------------------------------------------+---------------------------+-------------+--------------------+
   | Querying database storage information | GET /v3/{project_id}/storage-type/{database_name}?version_name={version_name} | No authorization required | Y           | Y                  |
   +---------------------------------------+-------------------------------------------------------------------------------+---------------------------+-------------+--------------------+

.. table:: **Table 2** DB instance management

   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Permissions                                                | API                                                                   | Action                                                                                                  | IAM Project | Enterprise Project |
   +============================================================+=======================================================================+=========================================================================================================+=============+====================+
   | Creating a DB instance                                     | POST /v3/{project_id}/instances                                       | rds:instance:create                                                                                     | Y           | Y                  |
   |                                                            |                                                                       |                                                                                                         |             |                    |
   |                                                            |                                                                       | (To create an encrypted instance, configure the KMS Administrator permission for the project.)          |             |                    |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Changing a DB instance name                                | PUT https://{*Endpoint*}/v3/{project_id}/instances/{instance_id}/name | rds:instance:modify                                                                                     | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Changing DB instance specifications                        | POST /v3/{project_id}/instances/{instance_id}/action                  | rds:instance:modifySpec                                                                                 | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Scaling up storage space                                   | POST /v3/{project_id}/instances/{instance_id}/action                  | rds:instance:extendSpace                                                                                | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Changing a DB instance type from single to primary/standby | POST /v3/{project_id}/instances/{instance_id}/action                  | rds:instance:singleToHa                                                                                 | Y           | Y                  |
   |                                                            |                                                                       |                                                                                                         |             |                    |
   |                                                            |                                                                       | (The KMS Administrator permission needs to be configured for the encrypted DB instance in the project.) |             |                    |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Rebooting a DB instance                                    | POST /v3/{project_id}/instances/{instance_id}/action                  | rds:instance:restart                                                                                    | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Deleting a DB instance                                     | DELETE /v3/{project_id}/instances/{instance_id}                       | rds:instance:delete                                                                                     | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Querying details about DB instances                        | GET /v3/{project_id}/instances                                        | rds:instance:list                                                                                       | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Binding and Unbinding an EIP                               | PUT /v3/{project_id}/instances/{instance_id}/public-ip                | rds:instance:modifyPublicAccess                                                                         | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Performing a manual switchover                             | PUT /v3/{project_id}/instances/{instance_id}/failover                 | rds:instance:switchover                                                                                 | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Changing a failover priority                               | PUT /v3/{project_id}/instances/{instance_id}/failover/strategy        | rds:instance:modifyStrategy                                                                             | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Changing a synchronize model                               | PUT /v3/{project_id}/instances/{instance_id}/failover/mode            | rds:instance:modifySynchronizeModel                                                                     | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Modifying a maintenance window                             | PUT                                                                   | rds:instance:modify                                                                                     | Y           | Y                  |
   |                                                            |                                                                       |                                                                                                         |             |                    |
   |                                                            | /v3/{project_id}/instances/{instance_id}/ops-window                   |                                                                                                         |             |                    |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+
   | Migrating a standby DB instance to another AZ              | POST /v3/{project_id}/instances/{instance_id}/migrateslave            | rds:instance:create                                                                                     | Y           | Y                  |
   +------------------------------------------------------------+-----------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+--------------------+

.. table:: **Table 3** Database security

   +--------------------------------+-------------------------------------------------------------+----------------------------------+-------------+--------------------+
   | Permissions                    | API                                                         | Action                           | IAM Project | Enterprise Project |
   +================================+=============================================================+==================================+=============+====================+
   | Configuring SSL                | PUT /v3/{project_id}/instances/{instance_id}/ssl            | rds:instance:modifySSL           | Y           | Y                  |
   +--------------------------------+-------------------------------------------------------------+----------------------------------+-------------+--------------------+
   | Changing a database port       | PUT /v3/{project_id}/instances/{instance_id}/port           | rds:instance:modifyPort          | Y           | Y                  |
   +--------------------------------+-------------------------------------------------------------+----------------------------------+-------------+--------------------+
   | Changing a floating IP address | PUT /v3/{project_id}/instances/{instance_id}/ip             | rds:instance:modifyIp            | Y           | Y                  |
   +--------------------------------+-------------------------------------------------------------+----------------------------------+-------------+--------------------+
   | Changing a security group      | PUT /v3/{project_id}/instances/{instance_id}/security-group | rds:instance:modifySecurityGroup | Y           | Y                  |
   +--------------------------------+-------------------------------------------------------------+----------------------------------+-------------+--------------------+

.. table:: **Table 4** Parameter configuration

   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Permissions                                                 | API                                                         | Action           | IAM Project | Enterprise Project |
   +=============================================================+=============================================================+==================+=============+====================+
   | Obtaining a parameter template list                         | GET /v3/{project_id}/configurations                         | rds:param:list   | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Creating a parameter template                               | POST /v3/{project_id}/configurations                        | rds:param:create | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Modifying parameters in a parameter template                | PUT /v3/{project_id}/configurations/{config_id}             | rds:param:modify | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Applying a parameter template                               | PUT /v3/{project_id}/configurations/{config_id}/apply       | rds:param:apply  | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Modifying parameters of a specified DB instance             | PUT /v3/{project_id}/instances/{instance_id}/configurations | rds:param:modify | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Obtaining the parameter template of a specified DB instance | GET /v3/{project_id}/instances/{instance_id}/configurations | rds:param:list   | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Obtaining parameters of a specified parameter template      | GET /v3/{project_id}/configurations/{config_id}             | rds:param:list   | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+
   | Deleting a parameter template                               | DELETE /v3/{project_id}/configurations/{config_id}          | rds:param:delete | Y           | Y                  |
   +-------------------------------------------------------------+-------------------------------------------------------------+------------------+-------------+--------------------+

.. table:: **Table 5** Backup and restoration

   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Permissions                                           | API                                                         | Actions                                                                                                 | IAM Project | **Enterprise Project** |
   +=======================================================+=============================================================+=========================================================================================================+=============+========================+
   | Setting an automated backup policy                    | PUT /v3/{project_id}/instances/{instance_id}/backups/policy | rds:instance:modifyBackupPolicy                                                                         | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Querying an automated backup policy                   | GET /v3/{project_id}/instances/{instance_id}/backups/policy | rds:instance:list                                                                                       | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Creating a manual backup                              | POST /v3/{project_id}/backups                               | rds:backup:create                                                                                       | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Obtaining a backup list                               | GET /v3/{project_id}/backups?instance_id={instance_id}      | rds:backup:list                                                                                         | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Obtaining the link for downloading a backup file      | GET /v3/{project_id}/backup-files?backup_id={backup_id}     | rds:backup:download                                                                                     | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Deleting a manual backup                              | DELETE /v3/{project_id}/backups/{backup_id}                 | rds:backup:delete                                                                                       | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Querying the restoration time range                   | GET /v3/{project_id}/instances/{instance_id}/restore-time   | rds:instance:list                                                                                       | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Restoring data to a new DB instance                   | POST /v3/{project_id}/instances                             | rds:instance:create                                                                                     | Y           | Y                      |
   |                                                       |                                                             |                                                                                                         |             |                        |
   |                                                       |                                                             | (The KMS Administrator permission needs to be configured for the encrypted DB instance in the project.) |             |                        |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+
   | Restoring data to an existing or original DB instance | POST /v3/{project_id}/instances/recovery                    | rds:instance:restoreInPlace                                                                             | Y           | Y                      |
   +-------------------------------------------------------+-------------------------------------------------------------+---------------------------------------------------------------------------------------------------------+-------------+------------------------+

.. table:: **Table 6** Log information query

   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Permissions                                     | API                                                                                                                         | Actions               | IAM Project | Enterprise Project |
   +=================================================+=============================================================================================================================+=======================+=============+====================+
   | Querying a database error log                   | GET /v3/{project_id}/instances/{instance_id}/errorlog?start_date={start_date}&end_date={end_date}                           | rds:log:list          | Y           | Y                  |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Querying a database slow log                    | GET /v3/{project_id}/instances/{instance_id}/slowlog?start_date={start_date}&end_date={end_date}                            | rds:log:list          | Y           | Y                  |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Setting a policy for audit logs                 | PUT                                                                                                                         | rds:auditlog:operate  | Y           | Y                  |
   |                                                 |                                                                                                                             |                       |             |                    |
   |                                                 | /v3/{project_id}/instances/{instance_id}/auditlog-policy                                                                    |                       |             |                    |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Querying the policy for audit logs              | GET                                                                                                                         | rds:auditlog:list     | Y           | Y                  |
   |                                                 |                                                                                                                             |                       |             |                    |
   |                                                 | /v3/{project_id}/instances/{instance_id}/auditlog-policy                                                                    |                       |             |                    |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Obtaining an audit log list                     | GET                                                                                                                         | rds:auditlog:list     | Y           | Y                  |
   |                                                 |                                                                                                                             |                       |             |                    |
   |                                                 | /v3/{project_id}/instances/{instance_id}/auditlog?start_time={start_time}&end_time={end_time}&offset={offset}&limit={limit} |                       |             |                    |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Obtaining the link for downloading an audit log | POST                                                                                                                        | rds:auditlog:download | Y           | Y                  |
   |                                                 |                                                                                                                             |                       |             |                    |
   |                                                 | /v3/{project_id}/instances/{instance_id}/auditlog-links                                                                     |                       |             |                    |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+
   | Obtaining links for downloading slow query logs | POST                                                                                                                        | rds:log:download      | Y           | Y                  |
   |                                                 |                                                                                                                             |                       |             |                    |
   |                                                 | /v3/{project_id}/instances/{instance_id}/slowlog-download                                                                   |                       |             |                    |
   +-------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------+-----------------------+-------------+--------------------+

.. table:: **Table 7** Recycle bin

   +----------------------------+-------------------------------------------------------------------+----------------------------+-------------+--------------------+
   | Permissions                | API                                                               | Actions                    | IAM Project | Enterprise Project |
   +============================+===================================================================+============================+=============+====================+
   | Modifying recycling policy | PUT https://{*Endpoint*}/v3/{project_id}/instances/recycle-policy | rds:instance:setRecycleBin | Y           | Y                  |
   +----------------------------+-------------------------------------------------------------------+----------------------------+-------------+--------------------+
